table_addenda_map {
  key: "ingress.l2_fwd_table"
  value {
    type: P4_TABLE_L2_MY_STATION
  }
}
table_addenda_map {
  key: "ingress.l2_fwd.l2_unicast_table"
  value {
    type: P4_TABLE_L2_UNICAST
  }
}
table_addenda_map {
  key: "ingress.l3_routing_classifier_table"
  value {
    type: P4_TABLE_L2_MY_STATION
  }
}
table_addenda_map {
  key: "ingress.l3_fwd_table"
  value {
    type: P4_TABLE_L3_IP
    #addenda_names: "l3-vrf-fallback"
  }
}
table_addenda_map {
  key: "ingress.l3_fwd.l3_fwd_table"
  value {
    type: P4_TABLE_L3_IP
    #addenda_names: "l3-vrf-fallback"
  }
}
table_addenda_map {
  key: "ingress.vrf_classifier_table"
  value {
    type: P4_TABLE_L3_IP
    addenda_names: "l3-vrf-fallback"
  }
}

# Defines an internal match on the fallback VRF ID.
table_addenda {
  name: "l3-vrf-fallback"
  internal_match_fields {
    type: P4_FIELD_TYPE_VRF
    value {
      u32: 2047  # kVrfFallback
    }
  }
}

# Defines an internal match on the override VRF ID.
table_addenda {
  name: "l3-vrf-override"
  internal_match_fields {
    type: P4_FIELD_TYPE_VRF
    value {
      u32: 2046  # kVrfOverride
    }
  }
}
